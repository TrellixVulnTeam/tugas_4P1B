<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link href="/font/css/all.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <div class="card">
      <div class="card-header text-center" style="background-color: yellow;">
        <h1> BREAD (Browse, Read, Edit, Add, Delete)</h1>
        <h2>FILTER</h2>
      </div>
      <form action="">
        <input type="hidden" name="page" value="1">
        <div class="card-body mb-3">
          <div class="mb-3 row">
            <label for="string" class="col-sm-2 col-form-label">
              <input type="checkbox" name="strng" id="strng" class="col-sm-2">STRING</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" name="string" id="string" value="<%=req.query.string%>"
                placeholder="masukkan STRING">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="integer" class="col-sm-2 col-form-label">
              <input type="checkbox" name="int" id="int" class="col-sm-2">INTEGER</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="integer" name="integer" value="<%=req.query.integer%>"
                placeholder="masukkan Integer">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="float" class="col-sm-2 col-form-label">
              <input type="checkbox" name="flo" id="flo" class="col-sm-2">FLOAT</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="float" name="float" value="<%=req.query.float%>"
                placeholder="masukkan FLOAT">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="date" class="col-sm-2 col-form-label">
              <input type="checkbox" name="date" id="date" class="col-sm-2">DATE</label>
            <div class="col-sm-10">
              <input class="form-select" type="date" id="Start_Dates" name="Start_Dates"
                value="<%=req.query.Start_Dates%>"> to
              <input class="form-select" type="date" size="30" id="End_Dates" name="End_Dates"
                value="<%=req.query.End_Dates%>">
            </div>
          </div>
          <div class="mb-3 row">
            <label for="Boolean" class="col-sm-2 col-form-label">
              <input type="checkbox" name="blo" id="blo" class="col-sm-2">BOOLEAN</label>
            <div class="col-sm-10">
              <select class="form-select" id="Booleans" name="Booleans" value="<%=req.query.boolean%>">
                <option value="" disabled selected>Lainnya</option>
                <option value="true">True</option>
                <option value="false">False</option>
              </select>
            </div>
          </div>
          <br>
          <button type="submit" class="col-sm-2 btn btn-primary">Search</button>
        </div>
      </form>
    </div>
    <br>
    <table class="table table-stripped text-white"
      style="background-image: url('https://cdn.pixabay.com/photo/2019/09/03/08/11/sunset-4448918_960_720.jpg')">
      <thead>
        <tr>
          
          <th>ID</th>


          <th>
            <a
              href="<%= url.replace(`sortBy=${req.query.sortBy}`, 'sortBy=string').replace(`sortMode=${req.query.sortMode}`, `sortMode=${req.query.sortMode == 'asc' ? 'desc' : 'asc' }`) %>">
              <i
                class="fa-solid fa-<%= req.query.sortBy == 'string' ? req.query.sortMode == 'asc' ? 'sort-up' : 'sort-down' : 'sort' %>"></i>
              String
          </th></a>


          <th>
            <a
              href="<%= url.replace(`sortBy=${req.query.sortBy}`, 'sortBy=integer').replace(`sortMode=${req.query.sortMode}`, `sortMode=${req.query.sortMode == 'asc' ? 'desc' : 'asc' }`) %>">
              <i
                class="fa-solid fa-<%= req.query.sortBy == 'integer' ? req.query.sortMode == 'asc' ? 'sort-up' : 'sort-down' : 'sort' %>"></i>
              Integer
          </th></a>


          <th>
            <a
              href="<%= url.replace(`sortBy=${req.query.sortBy}`, 'sortBy=float').replace(`sortMode=${req.query.sortMode}`, `sortMode=${req.query.sortMode == 'asc' ? 'desc' : 'asc' }`) %>">
              <i
                class="fa-solid fa-<%= req.query.sortBy == 'float' ? req.query.sortMode == 'asc' ? 'sort-up' : 'sort-down' : 'sort' %>"></i>
              Float
          </th></a>


          <th>
            <a
              href="<%= url.replace(`sortBy=${req.query.sortBy}`, 'sortBy=date').replace(`sortMode=${req.query.sortMode}`, `sortMode=${req.query.sortMode == 'asc' ? 'desc' : 'asc' }`) %>">
              <i
                class="fa-solid fa-<%= req.query.sortBy == 'date' ? req.query.sortMode == 'asc' ? 'sort-up' : 'sort-down' : 'sort' %>"></i>
              Date
          </th></a>


          <th>Boolean</th>


          <th>Update</th>
        </tr>
      </thead>
      <tbody>
        <% findResult.forEach ((item, index)=> { %>
          <tr>
            <td>
              <%= index + 1 + offset %>
            </td>
            <td>
              <%= item.string %>
            </td>
            <td>
              <%= item.integer %>
            </td>
            <td>
              <%= item.float %>
            </td>
            <td>
              <%= moment(item.date).format("MMM Do YY") %>
            </td>
            <td>
              <%= item.boolean %>
            </td>
            <td>
              <a class="col-sm-3 btn btn-success" href="/edit/<%= item._id %>">Edit</a>
              <a class="col-sm-3 btn btn-danger" href="/delete/<%= item._id %>">Delete</a>
            </td>
          </tr>
          <% }) %>
      </tbody>
    </table>
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <% for(let i=1 ; i <= pages; i++) { %>
          <li class="page-item <%= page == i ? 'active' : '' %>"><a class="page-link"
              href="<%= url.replace(`page=${page}`, `page=${i}`)%>" class="w3-button">
              <%= i %>
            </a></li>
          <% } %>
      </ul>
    </nav>
    <a class="col-sm-2 btn btn-primary" href="/add">TAMBAH</a>
  </div>
</body>

</html>